@(userProfile: models.UserProfile,
        tabMenu: TabMenu,
        recipeBoxes: Option[List[RecipeBox]] = None,
        eventBoxes: Option[List[EventBox]] = None,
        myReviewBoxes: Option[List[ReviewBox]] = None,
        myRecipeReviewBoxes: Option[List[ReviewBox]] = None,
        reviewBoxesAboutMyFood: Option[List[ReviewBox]] = None,
        reviewBoxesAboutMe: Option[List[ReviewBox]] = None,
        userMessages: Option[List[ReplyToGuestMessage]] = None,
        tagList: Option[List[models.profile.TagWord]] = None,
        metaData: Option[MetaData] = None,
        shareUrl: String = "",
        isThisMyProfile: Boolean = false,
        currentUser: Option[models.UserCredential],
        userRateForm: Html = Html(""),
        userLikeForm: Html = Html(""),
        requestForm: Html = Html(""),
        favorites: Html = Html(""))(implicit request: RequestHeader, flash: Flash, messages: Messages)
@import play.twirl.api.Html

@pageScripts = {
    <script src="@routes.Assets.at("js/app/profile-general.js")"></script>
    <script src="@routes.Assets.at("js/app/profile-inbox.js")"></script>
    <script src="@routes.Assets.at("js/app/profile-favorite.js")"></script>
}

@avatarUrl = @{if(userProfile.getAvatarImage != null){routes.ImageController.userThumb(userProfile.getAvatarImage.getStoreId).url}else{""} }

@main(title = Messages("profile.title", userProfile.profileLinkName), footerScripts = play.twirl.api.Html(pageScripts.toString), metaData = metaData) {
    <div class="container">
        @views.html.profile.profileHeader(userProfile.profileLinkName, userProfile.getOwner.firstName, avatarUrl, showLinkBack = false)

        <div class="row row-no-padding">
            <div class="col-xs-12 bg-color">
                <div class="full-width-image-wrapper">
                    @userProfile.getMainImage match {
                        case image: models.files.ContentFile => {
                            @shared.img(routes.ImageController.profileNormal(image.getStoreId).url, cssClass = "img-responsive full-width-image")
                        }
                        case null => {
                            @shared.img("images/profile/profile-default-main-image.jpg", cssClass = "img-responsive full-width-image")
                        }
                    }
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12 col-sm-6 bg-color">
                @* Events *@
                @views.html.profile.eventBoxesList(eventBoxes, userProfile, isThisMyProfile)

                @* Recipes *@
                @views.html.profile.recipeBoxesList(recipeBoxes, userProfile, isThisMyProfile)

                @* Ratings *@
                @views.html.profile.reviewBoxesList(reviewBoxesAboutMe, reviewBoxesAboutMyFood, myReviewBoxes, reviewBoxesAboutMyFood, userProfile, isThisMyProfile)
            </div>
            <div class="col-xs-12 col-sm-6 bg-color">

                <section>
                    <article>
                        <h1 class="page-header hidden">@userProfile.profileLinkName</h1>
                        <h2>@userProfile.aboutMeHeadline</h2>
                        <p id="result"></p>

                        <div class="breadtext">
                            @Html(userProfile.aboutMe)
                        </div>
                        <hr class="hr-orange hr-like">
                        @shared.flashmsg(flash)

@*                      Disabled because of Events
                        @if(!isThisMyProfile && userProfile.isUserHost) {
                            @requestForm
                        }
*@
                    </article>
                </section>

                @shared.grade(inputId = "host-grade", initialValue = userProfile.getOwner.getAverageRating, size = "xs", cssClass = "hdc-grade-pull-left pull-left", disabled = true, showCaption = false, showNrOfRatings = true, nrOfRatings = userProfile.getOwner.getNrOfRatings)
                @if(!isThisMyProfile) {
                    @userRateForm
                }

                @*  Share / Like / Fav *@
                <div class="row">
                    <div class="col-xs-12">
                        @views.html.profile.profileFavorite(userProfile)
                        @userLikeForm
                        @shared.fbShare(shareUrl)
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12 col-md-6 bg-color big-margin-top">
                @views.html.profile.profilePropertiesBox(tagList,userProfile)
                @views.html.profile.visitorsBox(userProfile, isThisMyProfile)
            </div>
        </div>


        <div class="row">
            <div class="col-xs-12 col-md-12 big-margin-top">
                <nav>
                    <ul class="nav nav-tabs nav-tabs-profile">
                        <li class="active"><a data-toggle="tab" href="#@tabMenu.tab1" title="@Messages("profile.tabs.food.title")"><span class="glyphicon glyphicon-cutlery"></span>&nbsp;@Messages("profile.tabs.food.name")</a></li>
                        <li><a data-toggle="tab" href="#@tabMenu.tab2" title="@Messages("profile.tabs.blog.title")"><span class="glyphicon glyphicon-pencil"></span>&nbsp;@Messages("profile.tabs.blog.name")</a></li>
                        @if(isThisMyProfile) {
                            <li><a data-toggle="tab" href="#@tabMenu.tab4" title="@Messages("profile.tabs.inbox.title")"><span class="glyphicon glyphicon-envelope"></span>&nbsp;@Messages("profile.tabs.inbox.name")</a></li>
                            <li><a data-toggle="tab" href="#@tabMenu.tab5" title="@Messages("profile.tabs.favourites.title")"><span class="glyphicon glyphicon-paperclip"></span>&nbsp;@Messages("profile.tabs.favourites.name")</a></li>
                        }
                    </ul>
                </nav>

                <div class="tab-content">
                    <div class="tab-pane tab-hdc fade in active" id="@tabMenu.tab1"></div>
                    <div class="tab-pane tab-hdc fade" id="@tabMenu.tab2">@views.html.profile.blogPostList(userProfile, isThisMyProfile)</div>
                    <div class="tab-pane tab-hdc fade" id="@tabMenu.tab4">@views.html.profile.mailInbox(userMessages, currentUser, isThisMyProfile)</div>
                    @if(isThisMyProfile) {
                    <div class="tab-pane tab-hdc fade" id="@tabMenu.tab5">
                        @favorites
                    </div>
                    }
                </div>

            </div>
        </div>


    </div>
}